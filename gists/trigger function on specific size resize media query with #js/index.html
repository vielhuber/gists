<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1" />
    <title>.</title>
    <script>
    document.addEventListener('DOMContentLoaded', function()
    {

        // new
        if( 1==1 )
        {
            function callOnResize(mediaQuery) {    
                if (mediaQuery.matches)
                {
                    document.body.style.backgroundColor = '#C0FFEE';
                    console.log('triggered');
                }
                else
                {
                    document.body.style.backgroundColor = '#C55';
                    console.log('triggered');
                }
            }
            let mediaQuery = window.matchMedia('(min-width: 560px)');
            mediaQuery.addListener(callOnResize);
            callOnResize(mediaQuery);
        }

        // bullshit
        else
        {
            let oldWidth = newWidth = null;
            function callOnResizeOld(mediaQuery) {    
                newWidth = window.innerWidth;
                if ( newWidth >= 560 && (oldWidth < 560 || oldWidth === null) )
                {
                    document.body.style.backgroundColor = '#1D1075';
                    console.log('triggered');
                }
                else if( newWidth < 560 && (oldWidth >= 560 || oldWidth === null) )
                {
                    document.body.style.backgroundColor = '#101';
                    console.log('triggered');
                }
                oldWidth = newWidth;
            }
            window.addEventListener('resize', callOnResizeOld);
            callOnResizeOld();
        }

    });
    </script>
    <style>
    html, body
    {
        width:100%;
        height:100%;
        padding:0;
        margin:0;
    }
    </style>
</head>
<body>
</body>
</html>